import React,{FormEvent,useRef, useState} from "react";
import ZoraChatStyle from '@styles/componentStyles/ZoraChat.module.scss'
interface ZoraChatProps {
  sendMessage: (msg:string) => void
}
const ZoraChat:React.FC<ZoraChatProps> = (
  {sendMessage}
)=>{
  const [inputChatMsg,setInputChatMsg] = useState('')
  const inputChatRef = useRef<HTMLInputElement>(null)
  const chatInputHandler = (e:FormEvent)=>{
    setInputChatMsg(e.target?.value.trim())
  }
  const listenEnterKey = (e:KeyboardEvent)=>{
    if(e.keyCode === 13 && inputChatMsg.length > 1){
      sendMessage(inputChatMsg)
      setInputChatMsg('')
    }
  }

  return <div className={ZoraChatStyle.zoraChatContainer} onKeyDown={listenEnterKey}>
    <div className={ZoraChatStyle.zoraContent}>
      <div className={ZoraChatStyle.zoraAudioBox}>
        <svg className="icon" viewBox="0 0 1024 1024" fill={'currentColor'} version="1.1" xmlns="http://www.w3.org/2000/svg"
             width="1em" height="1em">
          <path
            d="M512 961.019597c-247.594051 0-449.019597-201.425545-449.019597-449.019597S264.405949 62.980403 512 62.980403s449.019597 201.425545 449.019597 449.019597S759.594051 961.019597 512 961.019597zM512 96.92654c-228.874711 0-415.07346 186.198749-415.07346 415.07346s186.198749 415.07346 415.07346 415.07346 415.07346-186.198749 415.07346-415.07346S740.874711 96.92654 512 96.92654z"
            ></path>
          <path
            d="M612.248192 744.123708c-2.452865 0-4.950755-0.530073-7.315616-1.657756-8.442276-4.044106-12.045337-14.166651-8.000208-22.63144 0.508583-1.061169 50.898227-107.939361 48.731888-208.674647-2.166339-100.933807-57.107649-205.293643-57.660234-206.332299-4.39817-8.287757-1.25969-18.564821 7.005554-22.962991 8.31027-4.419659 18.542308-1.237177 22.962991 7.005554 2.408863 4.552689 59.296501 112.62508 61.638849 221.581608s-49.837058 219.371266-52.0474 224.012983C624.64657 740.564649 618.569154 744.123708 612.248192 744.123708z"
            ></path>
          <path
            d="M484.903875 676.119895c-3.13848 0-6.320962-0.861624-9.149381-2.696412-7.889691-5.061272-10.166547-15.58086-5.105275-23.449062 0.265036-0.419556 29.194926-46.919613 29.194926-120.117728 0-74.677816-33.305547-116.691699-33.637098-117.111255-5.900384-7.293103-4.773723-17.968234 2.51938-23.868617 7.249101-5.878894 17.945721-4.796236 23.868617 2.51938 1.679245 2.077312 41.195238 51.892881 41.195238 138.460492 0 83.717703-33.17354 136.272663-34.58775 138.460492C495.954559 673.379481 490.496244 676.119895 484.903875 676.119895z"
            ></path>
          <path
            d="M363.262444 603.651396c-2.231831 0-4.508687-0.442068-6.674003-1.370207-8.619308-3.691065-12.619412-13.658068-8.928347-22.277376 0.044002-0.13303 7.40362-17.923208 7.40362-39.891546 0-21.680788-8.596795-37.947264-8.685823-38.123272-4.419659-8.221242-1.39272-18.498306 6.807033-22.962991 8.221242-4.464685 18.475793-1.524726 22.940478 6.652514 0.530073 0.950651 12.884448 23.670096 12.884448 54.43375 0 29.194926-9.724479 52.268434-10.144034 53.240575C376.10289 599.805812 369.848443 603.651396 363.262444 603.651396z"
            ></path>
          <path
            d="M612.226702 744.123708c-3.292999 0-6.630001-0.950651-9.56996-2.961448-7.735172-5.303796-9.701966-15.868409-4.419659-23.603581 0.442068-0.64059 47.494711-71.959915 47.428196-206.751854-0.066515-138.040936-54.831816-202.066135-55.384401-202.707748-6.166443-7.005554-5.503341-17.724687 1.480724-23.912619 6.984065-6.187933 17.658172-5.613858 23.868617 1.347694 2.607384 2.917446 63.914682 73.175603 63.981197 225.272673 0.066515 146.151661-51.163263 222.730781-53.351092 225.935776C622.967324 741.537813 617.641015 744.123708 612.226702 744.123708z"
            ></path>
        </svg>
      </div>
      <div className={ZoraChatStyle.zoraInputBox}>
        <input ref={inputChatRef} value={inputChatMsg} onInput={(event:FormEvent)=>chatInputHandler(event)} className={ZoraChatStyle.zoraInputChat} type="text" placeholder={'type something'}/>
      </div>
      <div className={ZoraChatStyle.zoraEmojiBox}>
        <svg className="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
              width="1em" height="1em" fill={'currentColor'}>
          <path
            d="M512 64.5c-247.4 0-448 200.6-448 448s200.6 448 448 448 448-200.6 448-448-200.6-448-448-448z m0 864c-229.4 0-416-186.6-416-416s186.6-416 416-416 416 186.6 416 416-186.6 416-416 416z m-224-576c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32z m448 0c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32z m-48 192c-8.8 0-16 7.2-16 16 0 60.7-73.3 112-160 112s-160-51.3-160-112c0-8.8-7.2-16-16-16s-16 7.2-16 16c0 79.5 86 144 192 144s192-64.5 192-144c0-8.8-7.2-16-16-16z"
            ></path>
        </svg>
      </div>
      <div className={ZoraChatStyle.zoraAddBox}>
        <svg  className="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
              width="1em" height="1em" fill={'currentColor'}>
          <path
            d="M741.546667 493.037037 494.933333 493.037037 494.933333 246.423704c0-13.463704-8.533333-24.272593-18.962963-24.272593-10.42963 0-18.962963 10.808889-18.962963 24.272593L457.007407 493.037037 210.394074 493.037037c-13.368889 0-24.272593 8.533333-24.272593 18.962963 0 10.42963 10.903704 18.962963 24.272593 18.962963L457.007407 530.962963l0 246.613333c0 13.368889 8.533333 24.272593 18.962963 24.272593 10.42963 0 18.962963-10.903704 18.962963-24.272593L494.933333 530.962963l246.613333 0c13.463704 0 24.272593-8.533333 24.272593-18.962963C765.819259 501.57037 755.01037 493.037037 741.546667 493.037037z"
          ></path>
        </svg>
      </div>
    </div>
  </div>
}

export default ZoraChat
