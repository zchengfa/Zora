# Zora - 更新日志

本文档记录Zora项目的所有重要变更。

## [1.0.0] - 2025-01-20

### 新增功能

#### 实时客服系统
- 实现基于Socket.IO的实时消息通信系统
- 支持多客服同时在线，自动管理客服连接
- 实现客户上线自动创建/恢复会话功能
- 添加消息状态追踪（发送、送达、已读）
- 实现离线消息存储和推送功能

#### 数据同步
- 实现Shopify订单数据实时同步（创建、更新、删除）
- 实现Shopify客户数据实时同步（创建、更新、删除）
- 实现Shopify产品数据实时同步（创建、更新、删除）
- 添加Webhook事件监听和处理
- 实现Webhook事件实时推送给在线客服

#### 客户管理
- 实现客户信息查询和展示
- 添加客户搜索功能
- 实现客户标签系统
- 添加客户订单查看功能

#### 安全与认证
- 实现JWT身份验证
- 添加邮箱验证码登录功能
- 使用bcrypt进行密码加密
- 实现多级请求限流机制

#### API接口
- 实现用户认证接口
- 实现客户管理接口
- 实现订单查询接口
- 实现产品查询接口
- 实现消息发送和历史消息查询接口

#### 后台服务
- 实现日志Worker，统一管理应用日志
- 实现Shopify Worker，处理Shopify相关任务
- 添加Worker健康检查机制
- 实现任务队列管理（BullMQ）

### 技术改进

- 使用React Router 7重构应用路由
- 全面采用TypeScript，增强类型安全
- 使用Zustand进行状态管理
- 使用Prisma作为ORM工具
- 使用PostgreSQL作为主数据库
- 使用Redis进行缓存和会话管理

### 性能优化

- 实现Redis缓存，减少数据库查询
- 优化Socket.IO连接管理
- 实现请求拦截和错误处理
- 添加数据同步优化机制

### Bug修复

- 修复Socket.IO连接断开重连问题
- 修复Webhook验证失败问题
- 修复离线消息推送问题
- 修复客户会话状态不同步问题